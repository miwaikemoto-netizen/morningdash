/* MorningDash v14 layout/spacing patch (tighten & regroup)
   - Move YEAR above big date (left), keep brand at top-right
   - Tighter line-heights and smaller gaps
   - Compact control buttons
   - No HTML changes required
*/

/* ---------- rhythm & tokens ---------- */
:root{
  --md-hero-gap: 12px;         /* header 内の余白をさらに詰める */
  --md-line-tight: 1.12;       /* 全体の行間 */
  --md-brand-scale: .55;       /* 右上 MorningDash の縮尺 */
  --md-brand-opacity: .55;
  --md-block-gap: 10px;        /* カード間のマージン */
  --md-row-gap: 10px;          /* 横並びコンポーネント間のギャップ */
}

/* 全体の行間を少しだけ詰める */
body, .container, .card, .text, .row,
h1, h2, h3, p, li, label, input, button{
  line-height: var(--md-line-tight);
}

/* カード間の間隔をコンパクトに */
.card{ margin-block: var(--md-block-gap) !important; }
.row{ gap: var(--md-row-gap) !important; }

/* ボタン類を省スペース化（見た目はそのまま） */
.btn{ padding: 8px 12px !important; }
.btn.small, .btn.tiny{ padding: 6px 10px !important; }

/* ---------- header（ヒーロー） ---------- */
/* 既存の .md-hero を想定（v13 で導入） */
.md-hero{
  position: relative;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--md-hero-gap);
  margin-bottom: clamp(8px, 1.8vh, 18px);
}

/* 左：大きな 月/日 */
.md-hero .date-big,
.date-big{
  font-weight: 800;
  letter-spacing: .02em;
  margin: 0;
}

/* 右上：MorningDash（やや小さく・薄く） */
.md-hero .brand{
  margin-left: auto;
  transform: translateY(-2px);
  font-size: clamp(16px, 2.8vw, 24px);
  opacity: var(--md-brand-opacity);
  scale: var(--md-brand-scale);
  transform-origin: top right;
}

/* 右コラム（年・曜日・時刻）の行間をさらに詰める */
.md-hero .meta{ line-height: 1.02; }
.md-hero .meta > *{ margin: 0; }

/* 時刻：太字＋斜体（既定を維持しつつ詰め） */
.md-hero .clock,
.md-hero .meta .clock,
.md-hero .meta > :nth-child(3){
  font-style: italic;
  font-weight: 800;
  margin-top: 2px;
}

/* --- 要望：年を「左上・日付の上」に配置 --- */
/* Year が .year というクラスでも、.meta の最初の子でも拾えるよう両対応 */
.md-hero{ /* 年を載せるために基準化 */ position: relative; }
.md-hero .year,
.md-hero .meta > :first-child{
  position: absolute;
  left: 0;
  top: 0;                          /* 大きな月日の“上”に重ならない位置 */
  transform: translateY(-60%);     /* 月日の上にスッと載せる */
  font-size: clamp(13px, 2.3vw, 18px);
  font-weight: 700;
  opacity: .9;
  line-height: 1;
}

/* 曜日（2行目）はアクセント色、時刻（3行目）との間隔を最小限に */
.md-hero .weekday,
.md-hero .meta > :nth-child(2){
  margin-top: 2px;
  margin-bottom: 0;
}

/* 大きな月日の左右余白を微調整（ぶつからない範囲で詰める） */
.md-hero .date-big{ margin-right: clamp(8px, 1.5vw, 14px); }

/* ---------- “ボタン群” を縦方向に詰める ---------- */
/* 日付ピッカー＋保存/CSV/JSON のブロックが row で並ぶ前提 */
.controls,
.toolbar{ gap: var(--md-row-gap) !important; }
.controls .btn,
.toolbar .btn{ margin: 0 !important; }

/* セクション見出しの下の余白も少し詰める */
.titlebar{ margin-bottom: 6px !important; }
h2{ margin-bottom: 6px !important; }

/* カードの内側パディングをほんの少しだけ圧縮（読みやすさは維持） */
.card{ padding: 14px 16px !important; }

/* Safari での角丸はみ出し対策はそのまま維持（既存指定があれば優先） */
.section, .card, .panel{
  -webkit-mask-image: -webkit-radial-gradient(white, black);
  overflow: hidden;
}
